# å¿«é€Ÿå¯åŠ¨æŒ‡å—

## âœ… å½“å‰çŠ¶æ€

- âœ… **åç«¯**ï¼šè¿è¡Œåœ¨ `http://localhost:3000`
- âœ… **å‰ç«¯**ï¼šè¿è¡Œåœ¨ `http://localhost:5174`
- âœ… **æ•°æ®åº“**ï¼šSQLite (`backend/data/dev/bili-stats-dev.db`)
- âœ… **ä¾èµ–**ï¼šå·²å…¨éƒ¨å®‰è£…å®Œæˆ

---

## ğŸš€ ä¸€é”®å¯åŠ¨

### æ–¹å¼ 1ï¼šä½¿ç”¨ pnpm å·¥ä½œåŒºå‘½ä»¤ï¼ˆæ¨èï¼‰

åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œï¼š

```bash
# åŒæ—¶å¯åŠ¨å‰åç«¯
pnpm dev
```

### æ–¹å¼ 2ï¼šåˆ†åˆ«å¯åŠ¨

**ç»ˆç«¯ 1 - å¯åŠ¨åç«¯**ï¼š
```bash
cd backend
npm run dev
```

**ç»ˆç«¯ 2 - å¯åŠ¨å‰ç«¯**ï¼š
```bash
cd frontend/web
pnpm dev
```

---

## ğŸŒ è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š**http://localhost:5174/**

### é»˜è®¤ç™»å½•ä¿¡æ¯

- **ç”¨æˆ·å**ï¼š`admin`
- **å¯†ç **ï¼š`admin123`

âš ï¸ **é¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹å¯†ç ï¼**

---

## ğŸ” å¿«é€ŸéªŒè¯

### 1. æ£€æŸ¥åç«¯å¥åº·çŠ¶æ€

```bash
curl http://localhost:3000/health
```

**é¢„æœŸè¾“å‡º**ï¼š
```json
{
  "code": 0,
  "data": {
    "status": "ok",
    "timestamp": "2025-12-25T..."
  },
  "message": "success"
}
```

### 2. æµ‹è¯•å‰ç«¯ API è¿æ¥

åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰çš„ Console ä¸­æ‰§è¡Œï¼š

```javascript
// æµ‹è¯• API è¿æ¥
await fetch('/api/v1/settings').then(r => r.json())
```

### 3. ç™»å½•å¹¶æµè§ˆ

1. è®¿é—® http://localhost:5174/
2. ä½¿ç”¨é»˜è®¤è´¦å·ç™»å½•
3. æŸ¥çœ‹ä»ªè¡¨ç›˜

---

## ğŸ“Š ç«¯å£è¯´æ˜

| æœåŠ¡ | ç«¯å£ | åœ°å€ |
|------|------|------|
| åç«¯ API | 3000 | http://localhost:3000 |
| å‰ç«¯å¼€å‘æœåŠ¡å™¨ | 5174 | http://localhost:5174 |
| å‰ç«¯å¤‡ç”¨ç«¯å£ | 5173 | http://localhost:5173 |

**æ³¨æ„**ï¼šå‰ç«¯ä¼šè‡ªåŠ¨é€‰æ‹©å¯ç”¨ç«¯å£ï¼ˆ5173 æˆ– 5174ï¼‰

---

## ğŸ› ï¸ å¸¸è§é—®é¢˜

### Q1: å‰ç«¯å¯åŠ¨å¤±è´¥ - PostCSS é”™è¯¯

**é”™è¯¯**ï¼š`Cannot find module 'normalize-range'`

**è§£å†³**ï¼š
```bash
cd frontend/web
rm -rf node_modules bun.lock
pnpm install
```

### Q2: åç«¯å¯åŠ¨å¤±è´¥ - æ•°æ®åº“é”™è¯¯

**é”™è¯¯**ï¼š`Database tables not found`

**è§£å†³**ï¼š
```bash
cd backend
bunx drizzle-kit push:sqlite --schema ./src/db/schema.ts --url ./data/dev/bili-stats-dev.db
```

### Q3: å‰ç«¯æ— æ³•è¿æ¥åç«¯ - CORS é”™è¯¯

**æ£€æŸ¥**ï¼š
1. ç¡®è®¤åç«¯æ˜¯å¦è¿è¡Œï¼š`curl http://localhost:3000/health`
2. æ£€æŸ¥ `backend/.env.development` ä¸­çš„ `CORS_ORIGIN` æ˜¯å¦åŒ…å«å‰ç«¯åœ°å€

### Q4: ç«¯å£è¢«å ç”¨

**å‰ç«¯ç«¯å£è¢«å ç”¨**ï¼š
- Vite ä¼šè‡ªåŠ¨å°è¯•ä¸‹ä¸€ä¸ªç«¯å£ï¼ˆ5174, 5175...ï¼‰
- æˆ–æ‰‹åŠ¨åœæ­¢å ç”¨ 5173 çš„è¿›ç¨‹

**åç«¯ç«¯å£è¢«å ç”¨**ï¼š
```bash
# Windows
netstat -ano | findstr :3000
taskkill /PID <PID> /F

# Linux/Mac
lsof -ti:3000 | xargs kill -9
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
bili-stats-monitor-spec/
â”œâ”€â”€ backend/                    # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ .env.development       # å¼€å‘ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/            # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ db/                # æ•°æ®åº“
â”‚   â””â”€â”€ data/
â”‚       â””â”€â”€ dev/               # å¼€å‘æ•°æ®åº“
â”‚
â”œâ”€â”€ frontend/web/              # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ .env.development      # å¼€å‘ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/       # UI ç»„ä»¶
â”‚   â”‚   â””â”€â”€ lib/              # å·¥å…·åº“
â”‚   â””â”€â”€ vite.config.ts        # Vite é…ç½®
â”‚
â””â”€â”€ pnpm-workspace.yaml       # Monorepo é…ç½®
```

---

## ğŸ¯ å¼€å‘æµç¨‹

### 1. å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
pnpm dev
```

### 2. å¼€å‘åŠŸèƒ½

- **å‰ç«¯**ï¼šä¿®æ”¹ `frontend/web/src/` ä¸‹çš„æ–‡ä»¶ï¼Œçƒ­é‡è½½è‡ªåŠ¨ç”Ÿæ•ˆ
- **åç«¯**ï¼šä¿®æ”¹ `backend/src/` ä¸‹çš„æ–‡ä»¶ï¼ŒBun ä¼šè‡ªåŠ¨é‡å¯

### 3. æµ‹è¯•åŠŸèƒ½

- åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•å‰ç«¯åŠŸèƒ½
- ä½¿ç”¨ Postman æˆ– curl æµ‹è¯• API

### 4. æäº¤ä»£ç 

```bash
git add .
git commit -m "feat: æè¿°ä½ çš„æ”¹åŠ¨"
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- ğŸ“– [å‰åç«¯å¯¹æ¥æŒ‡å—.md](./å‰åç«¯å¯¹æ¥æŒ‡å—.md) - è¯¦ç»†å¯¹æ¥è¯´æ˜
- ğŸ“– [å‰åç«¯å¯¹æ¥-å®ŒæˆæŠ¥å‘Š.md](./å‰åç«¯å¯¹æ¥-å®ŒæˆæŠ¥å‘Š.md) - å¯¹æ¥éªŒè¯æŠ¥å‘Š
- ğŸ“– [backend/ç¯å¢ƒé…ç½®ä½¿ç”¨æŒ‡å—.md](./backend/ç¯å¢ƒé…ç½®ä½¿ç”¨æŒ‡å—.md) - åç«¯é…ç½®æŒ‡å—

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

1. âœ… ç¡®è®¤å‰åç«¯éƒ½å·²å¯åŠ¨
2. âœ… è®¿é—® http://localhost:5174/
3. âœ… ä½¿ç”¨ `admin` / `admin123` ç™»å½•
4. âœ… å¼€å§‹æ¢ç´¢åŠŸèƒ½ï¼

---

**ç¥å¼€å‘æ„‰å¿«ï¼** ğŸš€

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ç›¸å…³æ–‡æ¡£æˆ–æ£€æŸ¥ç»ˆç«¯æ—¥å¿—ã€‚

