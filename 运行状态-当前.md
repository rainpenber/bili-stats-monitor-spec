# 运行状态 - 当前

**更新时间**: 2025-12-25 15:03  
**状态**: ✅ 全部运行正常

---

## 🚀 当前运行的服务

### 后端服务 ✅ 运行中

- **地址**: http://localhost:38080
- **状态**: 正常运行
- **数据库**: SQLite (`backend/data/dev/bili-stats-dev.db`)
- **环境**: development
- **调度器**: 已启动

**启动日志**:
```
✅ Loaded .env.development
✅ 数据库表已存在
✅ 管理员账号已存在
✅ 初始化完成
🚀 Server running on http://localhost:38080
```

### 前端服务 ✅ 运行中

- **地址**: http://localhost:5175
- **状态**: 正常运行
- **Vite 版本**: 5.4.21
- **代理目标**: http://localhost:38080

**启动日志**:
```
VITE v5.4.21  ready in 1211 ms
➜  Local:   http://localhost:5175/
```

---

## 🌐 访问地址

### 主应用
👉 **http://localhost:5175/**

### API 测试
- Health Check: http://localhost:38080/health
- 任务列表: http://localhost:38080/api/v1/tasks
- 设置: http://localhost:38080/api/v1/settings

---

## 🔑 登录信息

- **用户名**: `admin`
- **密码**: `admin123`

⚠️ **首次登录后请立即修改密码！**

---

## 📊 端口使用情况

| 服务 | 端口 | 状态 |
|------|------|------|
| 后端 API | 3000 | ✅ 使用中 |
| 前端 (主) | 5175 | ✅ 使用中 |
| 前端 (备用1) | 5173 | ⚠️ 被占用 |
| 前端 (备用2) | 5174 | ⚠️ 被占用 |

---

## ✅ 问题解决记录

### 问题：前端 API 代理错误 (ECONNREFUSED)

**错误信息**:
```
[vite] http proxy error: /api/v1/accounts
AggregateError [ECONNREFUSED]
```

**原因**: 后端服务未运行

**解决方案**: 
```bash
cd backend
npm run dev
```

**结果**: ✅ 已解决，后端已启动，前端可以正常连接

---

## 🔍 快速验证

### 1. 验证后端
```bash
curl http://localhost:38080/health
```

### 2. 验证前端
在浏览器打开: http://localhost:5175/

### 3. 验证 API 连接
在浏览器开发者工具 Console 中:
```javascript
await fetch('/api/v1/settings').then(r => r.json())
```

---

## 🛠️ 如何重启服务

### 重启后端
```bash
# 停止后端 (在运行后端的终端按 Ctrl+C)
# 然后重新启动
cd backend
npm run dev
```

### 重启前端
```bash
# 停止前端 (在运行前端的终端按 Ctrl+C)
# 然后重新启动
cd frontend/web
pnpm dev
```

### 同时启动前后端
```bash
# 在项目根目录
pnpm dev
```

---

## 📁 运行中的终端

- **终端 12**: 后端服务 (`backend/npm run dev`)
- **终端 9**: 前端服务 (`frontend/web/pnpm dev`)

---

## 💡 开发提示

1. **后端日志**: 查看终端 12 的输出
2. **前端日志**: 查看终端 9 的输出和浏览器 Console
3. **热重载**: 
   - 后端: 修改代码后 Bun 自动重启
   - 前端: 修改代码后 Vite 自动热更新
4. **API 测试**: 使用浏览器 Console 中的 `__http_get` 和 `__http_post` 函数

---

## 📚 相关文档

- [快速启动指南.md](./快速启动指南.md) - 详细启动步骤
- [前后端对接指南.md](./前后端对接指南.md) - API 对接说明
- [前后端对接-完成报告.md](./前后端对接-完成报告.md) - 对接验证

---

## 🎯 下一步

1. ✅ 访问 http://localhost:5175/
2. ✅ 使用 `admin` / `admin123` 登录
3. ⏭️ 添加 Bilibili 账号
4. ⏭️ 创建监控任务
5. ⏭️ 查看数据采集和图表

---

**状态**: 🟢 所有服务正常运行，可以开始开发和测试！

